<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">

<body>
<p>
  Для создания функций мы можем использовать объявление функции.

  Пример объявления функции:

  function showMessage() {
  alert( 'Всем привет!' );
  }
  Вначале идёт ключевое слово function, после него имя функции, затем список параметров в круглых скобках через запятую (в вышеприведённом примере он пустой) и, наконец, код функции, также называемый «телом функции», внутри фигурных скобок.

  function имя(параметры) {
  ...тело...
  }
  Наша новая функция может быть вызвана по своему имени: showMessage().

  Например:

  function showMessage() {
  alert( 'Всем привет!' );
  }

  showMessage();
  showMessage();
  Вызов showMessage() выполняет код функции. Здесь мы увидим сообщение дважды.
</p>
<p>
  Переменные, объявленные внутри функции, видны только внутри этой функции.
  НО
  Функция обладает полным доступом к внешним переменным и может изменять их значение.

</p>
<p>
  Например:

  let userName = 'Вася';

  function showMessage() {
  userName = "Петя"; // (1) изменяем значение внешней переменной

  let message = 'Привет, ' + userName;
  alert(message);
  }

  alert( userName ); // Вася перед вызовом функции

  showMessage();

  alert( userName ); // Петя, значение внешней переменной было изменено функцией
  Внешняя переменная используется, только если внутри функции нет такой локальной.

  Если одноимённая переменная объявляется внутри функции, тогда она перекрывает внешнюю
</p>
<p>
  Вот ещё один пример: у нас есть переменная from, и мы передаём её функции. Обратите внимание: функция изменяет значение from, но это изменение не видно снаружи. Функция всегда получает только копию значения:

  function showMessage(from, text) {

  from = '*' + from + '*'; // немного украсим "from"

  alert( from + ': ' + text );
  }

  let from = "Аня";

  showMessage(from, "Привет"); // *Аня*: Привет

  // значение "from" осталось прежним, функция изменила значение локальной переменной
  alert( from ); // Аня
</p>
<p>
  Значение, передаваемое в качестве параметра функции, также называется аргументом.

  Другими словами:

  Параметр – это переменная, указанная в круглых скобках в объявлении функции.
  Аргумент – это значение, которое передаётся функции при её вызове.

</p>
<p>
  Если при вызове функции аргумент не был указан, то его значением становится undefined.

  Например, вышеупомянутая функция showMessage(from, text) может быть вызвана с одним аргументом:

  showMessage("Аня");
  Это не приведёт к ошибке. Такой вызов выведет "*Аня*: undefined". В вызове не указан параметр text, поэтому предполагается, что text === undefined.

  Если мы хотим задать параметру text значение по умолчанию, мы должны указать его после =:

  function showMessage(from, text = "текст не добавлен") {
  alert( from + ": " + text );
  }

  showMessage("Аня"); // Аня: текст не добавлен
  В данном случае "текст не добавлен" это строка, но на её месте могло бы быть и более сложное выражение, которое бы вычислялось и присваивалось при отсутствии параметра. Например:

  function showMessage(from, text = anotherFunction()) {
  // anotherFunction() выполнится только если не передан text
  // результатом будет значение text
  }

  Использование параметров по умолчанию в ранних версиях JavaScript
  Ранние версии JavaScript не поддерживали параметры по умолчанию. Поэтому существуют альтернативные способы, которые могут встречаться в старых скриптах.

  Например, явная проверка на undefined:

  function showMessage(from, text) {
  if (text === undefined) {
  text = 'текст не добавлен';
  }

  alert( from + ": " + text );
  }
</p>
<p>
  Во время выполнения функции мы можем проверить, передан ли параметр, сравнив его с undefined:

  function showMessage(text) {
  // ...
  if (text === undefined) { // если параметр отсутствует
  text = 'пустое сообщение';
  }
  alert(text);
  }
  showMessage(); // пустое сообщение
  …Или мы можем использовать оператор ||:

  function showMessage(text) {
  // если значение text ложно или равняется undefined, тогда присвоить text значение 'пусто'
  text = text || 'пусто';
  ...
  }
</p>
<p>
  Во время выполнения функции мы можем проверить, передан ли параметр, сравнив его с undefined:

  function showMessage(text) {
  // ...
  if (text === undefined) { // если параметр отсутствует
  text = 'пустое сообщение';
  }
  alert(text);
  }
  showMessage(); // пустое сообщение
  …Или мы можем использовать оператор ||:

  function showMessage(text) {
  // если значение text ложно или равняется undefined, тогда присвоить text значение 'пусто'
  text = text || 'пусто';
  ...
  }
</p>
<p>
  Возврат значения
  Функция может вернуть результат, который будет передан в вызвавший её код.

  Простейшим примером может служить функция сложения двух чисел:

  function sum(a, b) {
  return a + b;
  }

  let result = sum(1, 2);
  alert( result ); // 3
  Директива return может находиться в любом месте тела функции. Как только выполнение доходит до этого места, функция останавливается, и значение возвращается в вызвавший её код (присваивается переменной result выше).

  Вызовов return может быть несколько, например:

  function checkAge(age) {
  if (age >= 18) {
  return true;
  } else {
  return confirm('А родители разрешили?');
  }
  }

  let age = prompt('Сколько вам лет?', 18);

  if ( checkAge(age) ) {
  alert( 'Доступ получен' );
  } else {
  alert( 'Доступ закрыт' );
  }
  Возможно использовать return и без значения. Это приведёт к немедленному выходу из функции.

  Например:

  function showMovie(age) {
  if ( !checkAge(age) ) {
  return;
  }

  alert( "Вам показывается кино" ); // (*)
  // ...
  }
  В коде выше, если checkAge(age) вернёт false, showMovie не выполнит alert.
</p>
<p>
  Результат функции с пустым return или без него – undefined
  Если функция не возвращает значения, это всё равно, как если бы она возвращала undefined:

  function doNothing() { /* пусто */ }

  alert( doNothing() === undefined ); // true
  Пустой return аналогичен return undefined:

  function doNothing() {
  return;
  }

  alert( doNothing() === undefined ); // true

</p>
<p>
  Если мы хотим, чтобы возвращаемое выражение занимало несколько строк, нужно начать его на той же строке, что и return. Или, хотя бы, поставить там открывающую скобку, вот так:

  return (
  some + long + expression
  + or +
  whatever * f(a) + f(b)
  )
  И тогда всё сработает, как задумано
</p>
<p>
  Объявление функции имеет вид:

  function имя(параметры, через, запятую) {
  /* тело, код функции */
  }
  Передаваемые значения копируются в параметры функции и становятся локальными переменными.
  Функции имеют доступ к внешним переменным. Но это работает только изнутри наружу. Код вне функции не имеет доступа к её локальным переменным.
  Функция может возвращать значение. Если этого не происходит, тогда результат равен undefined.
</p>
</body>
</html>